<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Custom Helpers | CodeceptJS</title>
    <meta name="description" content="SuperCharged End 2 End Testing with WebDriver &amp; Puppeteer">
    <link rel="icon" href="/favicon/favicon.png">
    
    <link rel="preload" href="/assets/css/0.styles.7bbac790.css" as="style"><link rel="preload" href="/assets/js/app.63cf46ba.js" as="script"><link rel="preload" href="/assets/js/9.60cbc647.js" as="script"><link rel="preload" href="/assets/js/2.4d7a6593.js" as="script"><link rel="preload" href="/assets/js/28.0ce50741.js" as="script"><link rel="prefetch" href="/assets/js/1.4a12cd1f.js"><link rel="prefetch" href="/assets/js/10.4e6580c9.js"><link rel="prefetch" href="/assets/js/11.a1b97b2a.js"><link rel="prefetch" href="/assets/js/12.08af4114.js"><link rel="prefetch" href="/assets/js/13.37076095.js"><link rel="prefetch" href="/assets/js/14.17465f27.js"><link rel="prefetch" href="/assets/js/15.37cee37a.js"><link rel="prefetch" href="/assets/js/16.0ee19691.js"><link rel="prefetch" href="/assets/js/17.b3a1d557.js"><link rel="prefetch" href="/assets/js/18.ccfc2f33.js"><link rel="prefetch" href="/assets/js/19.04650b93.js"><link rel="prefetch" href="/assets/js/20.5d7c2c58.js"><link rel="prefetch" href="/assets/js/21.cfeaaf4d.js"><link rel="prefetch" href="/assets/js/22.574a3cd4.js"><link rel="prefetch" href="/assets/js/23.9f961f62.js"><link rel="prefetch" href="/assets/js/24.60140e1f.js"><link rel="prefetch" href="/assets/js/25.da946243.js"><link rel="prefetch" href="/assets/js/26.223c6d15.js"><link rel="prefetch" href="/assets/js/27.c26186cc.js"><link rel="prefetch" href="/assets/js/29.5e082314.js"><link rel="prefetch" href="/assets/js/30.7cc40877.js"><link rel="prefetch" href="/assets/js/31.3f099a42.js"><link rel="prefetch" href="/assets/js/32.cc3a4f2a.js"><link rel="prefetch" href="/assets/js/33.1cb6e7c1.js"><link rel="prefetch" href="/assets/js/34.6941a85f.js"><link rel="prefetch" href="/assets/js/35.d7a54c63.js"><link rel="prefetch" href="/assets/js/36.b63e1545.js"><link rel="prefetch" href="/assets/js/37.ba3601f6.js"><link rel="prefetch" href="/assets/js/38.b7c0926f.js"><link rel="prefetch" href="/assets/js/39.27efa549.js"><link rel="prefetch" href="/assets/js/40.4d112c79.js"><link rel="prefetch" href="/assets/js/41.4edc2e28.js"><link rel="prefetch" href="/assets/js/42.7483cb85.js"><link rel="prefetch" href="/assets/js/43.00be5032.js"><link rel="prefetch" href="/assets/js/44.36a0a619.js"><link rel="prefetch" href="/assets/js/45.b9aa203a.js"><link rel="prefetch" href="/assets/js/46.dad6a8a3.js"><link rel="prefetch" href="/assets/js/47.c0f4fc33.js"><link rel="prefetch" href="/assets/js/48.6cab0fcf.js"><link rel="prefetch" href="/assets/js/49.6b1c59d4.js"><link rel="prefetch" href="/assets/js/5.714e9c28.js"><link rel="prefetch" href="/assets/js/50.5d52ceba.js"><link rel="prefetch" href="/assets/js/51.0ce95e01.js"><link rel="prefetch" href="/assets/js/52.0b7d9bb1.js"><link rel="prefetch" href="/assets/js/53.3c3428b6.js"><link rel="prefetch" href="/assets/js/54.b0327850.js"><link rel="prefetch" href="/assets/js/55.dd0d7485.js"><link rel="prefetch" href="/assets/js/56.97452ca7.js"><link rel="prefetch" href="/assets/js/57.d47fdeed.js"><link rel="prefetch" href="/assets/js/58.a18e9419.js"><link rel="prefetch" href="/assets/js/59.a535bdea.js"><link rel="prefetch" href="/assets/js/6.dc4b8e02.js"><link rel="prefetch" href="/assets/js/60.baec11b4.js"><link rel="prefetch" href="/assets/js/61.81a164c4.js"><link rel="prefetch" href="/assets/js/62.518a3894.js"><link rel="prefetch" href="/assets/js/63.94dfda10.js"><link rel="prefetch" href="/assets/js/64.be9c5740.js"><link rel="prefetch" href="/assets/js/65.1750ddca.js"><link rel="prefetch" href="/assets/js/66.91eb0b3c.js"><link rel="prefetch" href="/assets/js/67.3733c71e.js"><link rel="prefetch" href="/assets/js/68.7447111e.js"><link rel="prefetch" href="/assets/js/69.afd0e1e7.js"><link rel="prefetch" href="/assets/js/7.fd269c9d.js"><link rel="prefetch" href="/assets/js/70.f82c7a11.js"><link rel="prefetch" href="/assets/js/71.4037f8b3.js"><link rel="prefetch" href="/assets/js/72.7fcde480.js"><link rel="prefetch" href="/assets/js/73.5f44c4cd.js"><link rel="prefetch" href="/assets/js/74.fcea851e.js"><link rel="prefetch" href="/assets/js/75.462f0a3e.js"><link rel="prefetch" href="/assets/js/76.5edb0333.js"><link rel="prefetch" href="/assets/js/77.05bfc92b.js"><link rel="prefetch" href="/assets/js/78.30b6c366.js"><link rel="prefetch" href="/assets/js/79.5df68c3e.js"><link rel="prefetch" href="/assets/js/8.7028abb6.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5af29996.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7bbac790.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.svg" alt="CodeceptJS" class="logo"> <span class="site-name can-hide">CodeceptJS</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/quickstart.html" class="nav-link" data-v-ec36116a>Quickstart</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basics.html" class="nav-link" data-v-ec36116a>Getting Started</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webdriver.html" class="nav-link" data-v-ec36116a>Using WebDriver</a></li><li class="dropdown-subitem"><a href="/puppeteer.html" class="nav-link" data-v-ec36116a>Using Puppeteer</a></li><li class="dropdown-subitem"><a href="/testcafe.html" class="nav-link" data-v-ec36116a>Using TestCafe</a></li><li class="dropdown-subitem"><a href="/mobile.html" class="nav-link" data-v-ec36116a>Mobile Testing</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/locators.html" class="nav-link" data-v-ec36116a>Locators</a></li><li class="dropdown-subitem"><a href="/pageobjects.html" class="nav-link" data-v-ec36116a>Page Objects</a></li><li class="dropdown-subitem"><a href="/bdd.html" class="nav-link" data-v-ec36116a>Behavior Driven Development</a></li><li class="dropdown-subitem"><a href="/data.html" class="nav-link" data-v-ec36116a>Data Management</a></li><li class="dropdown-subitem"><a href="/parallel.html" class="nav-link" data-v-ec36116a>Parallel Execution</a></li><li class="dropdown-subitem"><a href="/reports.html" class="nav-link" data-v-ec36116a>Reports</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/best.html" class="nav-link" data-v-ec36116a>Best Practices</a></li><li class="dropdown-subitem"><a href="/advanced.html" class="nav-link" data-v-ec36116a>Advanced Usage</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Helpers" class="dropdown-title"><span class="title">Helpers</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Web Testing</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/helpers/WebDriver.html" class="nav-link" data-v-ec36116a>WebDriver</a></li><li class="dropdown-subitem"><a href="/helpers/Puppeteer.html" class="nav-link" data-v-ec36116a>Puppeteer</a></li><li class="dropdown-subitem"><a href="/helpers/Protractor.html" class="nav-link" data-v-ec36116a>Protractor</a></li><li class="dropdown-subitem"><a href="/helpers/TestCafe.html" class="nav-link" data-v-ec36116a>TestCafe</a></li><li class="dropdown-subitem"><a href="/helpers/Nightmare.html" class="nav-link" data-v-ec36116a>Nightmare</a></li></ul></li><li class="dropdown-item"><h4>Mobile Testing</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/helpers/Appium.html" class="nav-link" data-v-ec36116a>Appium</a></li><li class="dropdown-subitem"><a href="/helpers/Detox.html" class="nav-link" data-v-ec36116a>Detox</a></li></ul></li><li class="dropdown-item"><h4>API Helpers</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/helpers/REST.html" class="nav-link" data-v-ec36116a>REST</a></li><li class="dropdown-subitem"><a href="/helpers/ApiDataFactory.html" class="nav-link" data-v-ec36116a>ApiDataFactory</a></li><li class="dropdown-subitem"><a href="/helpers/GraphQL.html" class="nav-link" data-v-ec36116a>GraphQL</a></li><li class="dropdown-subitem"><a href="/helpers/GraphQLDataFactory.html" class="nav-link" data-v-ec36116a>GraphQLDataFactory</a></li><li class="dropdown-subitem"><a href="/helpers/MockRequest.html" class="nav-link" data-v-ec36116a>MockRequest</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/helpers/FileSystem.html" class="nav-link" data-v-ec36116a>FileSystem</a></li><li class="dropdown-subitem"><a href="/community-helpers.html" class="nav-link" data-v-ec36116a>Community Helpers</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/ui.html" class="nav-link" data-v-ec36116a>UI</a></div><div class="nav-item"><a href="/plugins.html" class="nav-link" data-v-ec36116a>Plugins</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API" class="dropdown-title"><span class="title">API</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/installation.html" class="nav-link" data-v-ec36116a>Installation</a></li><li class="dropdown-item"><!----> <a href="/commands.html" class="nav-link" data-v-ec36116a>Commands</a></li><li class="dropdown-item"><!----> <a href="/configuration.html" class="nav-link" data-v-ec36116a>Configuration</a></li><li class="dropdown-item"><!----> <a href="/docker.html" class="nav-link" data-v-ec36116a>Docker</a></li><li class="dropdown-item"><!----> <a href="/translation.html" class="nav-link" data-v-ec36116a>Translation</a></li></ul></div></div><div class="nav-item"><a href="/changelog.html" class="nav-link" data-v-ec36116a>Releases</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/Codeception/CodeceptJS" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://bit.ly/chat-codeceptjs" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Slack Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://codecept.discourse.group/" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://twitter.com/codeceptjs" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://stackoverflow.com/questions/tagged/codeceptjs" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Stack Overflow
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://sdclabs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Commercial Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://sdclabs.com/trainings/web-automation-codeceptjs?utm_source=codecept.io&amp;utm_medium=top_menu&amp;utm_term=link&amp;utm_campaign=reference" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Trainings
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/quickstart.html" class="nav-link" data-v-ec36116a>Quickstart</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/basics.html" class="nav-link" data-v-ec36116a>Getting Started</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/webdriver.html" class="nav-link" data-v-ec36116a>Using WebDriver</a></li><li class="dropdown-subitem"><a href="/puppeteer.html" class="nav-link" data-v-ec36116a>Using Puppeteer</a></li><li class="dropdown-subitem"><a href="/testcafe.html" class="nav-link" data-v-ec36116a>Using TestCafe</a></li><li class="dropdown-subitem"><a href="/mobile.html" class="nav-link" data-v-ec36116a>Mobile Testing</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/locators.html" class="nav-link" data-v-ec36116a>Locators</a></li><li class="dropdown-subitem"><a href="/pageobjects.html" class="nav-link" data-v-ec36116a>Page Objects</a></li><li class="dropdown-subitem"><a href="/bdd.html" class="nav-link" data-v-ec36116a>Behavior Driven Development</a></li><li class="dropdown-subitem"><a href="/data.html" class="nav-link" data-v-ec36116a>Data Management</a></li><li class="dropdown-subitem"><a href="/parallel.html" class="nav-link" data-v-ec36116a>Parallel Execution</a></li><li class="dropdown-subitem"><a href="/reports.html" class="nav-link" data-v-ec36116a>Reports</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/best.html" class="nav-link" data-v-ec36116a>Best Practices</a></li><li class="dropdown-subitem"><a href="/advanced.html" class="nav-link" data-v-ec36116a>Advanced Usage</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Helpers" class="dropdown-title"><span class="title">Helpers</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Web Testing</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/helpers/WebDriver.html" class="nav-link" data-v-ec36116a>WebDriver</a></li><li class="dropdown-subitem"><a href="/helpers/Puppeteer.html" class="nav-link" data-v-ec36116a>Puppeteer</a></li><li class="dropdown-subitem"><a href="/helpers/Protractor.html" class="nav-link" data-v-ec36116a>Protractor</a></li><li class="dropdown-subitem"><a href="/helpers/TestCafe.html" class="nav-link" data-v-ec36116a>TestCafe</a></li><li class="dropdown-subitem"><a href="/helpers/Nightmare.html" class="nav-link" data-v-ec36116a>Nightmare</a></li></ul></li><li class="dropdown-item"><h4>Mobile Testing</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/helpers/Appium.html" class="nav-link" data-v-ec36116a>Appium</a></li><li class="dropdown-subitem"><a href="/helpers/Detox.html" class="nav-link" data-v-ec36116a>Detox</a></li></ul></li><li class="dropdown-item"><h4>API Helpers</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/helpers/REST.html" class="nav-link" data-v-ec36116a>REST</a></li><li class="dropdown-subitem"><a href="/helpers/ApiDataFactory.html" class="nav-link" data-v-ec36116a>ApiDataFactory</a></li><li class="dropdown-subitem"><a href="/helpers/GraphQL.html" class="nav-link" data-v-ec36116a>GraphQL</a></li><li class="dropdown-subitem"><a href="/helpers/GraphQLDataFactory.html" class="nav-link" data-v-ec36116a>GraphQLDataFactory</a></li><li class="dropdown-subitem"><a href="/helpers/MockRequest.html" class="nav-link" data-v-ec36116a>MockRequest</a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/helpers/FileSystem.html" class="nav-link" data-v-ec36116a>FileSystem</a></li><li class="dropdown-subitem"><a href="/community-helpers.html" class="nav-link" data-v-ec36116a>Community Helpers</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/ui.html" class="nav-link" data-v-ec36116a>UI</a></div><div class="nav-item"><a href="/plugins.html" class="nav-link" data-v-ec36116a>Plugins</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="API" class="dropdown-title"><span class="title">API</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/installation.html" class="nav-link" data-v-ec36116a>Installation</a></li><li class="dropdown-item"><!----> <a href="/commands.html" class="nav-link" data-v-ec36116a>Commands</a></li><li class="dropdown-item"><!----> <a href="/configuration.html" class="nav-link" data-v-ec36116a>Configuration</a></li><li class="dropdown-item"><!----> <a href="/docker.html" class="nav-link" data-v-ec36116a>Docker</a></li><li class="dropdown-item"><!----> <a href="/translation.html" class="nav-link" data-v-ec36116a>Translation</a></li></ul></div></div><div class="nav-item"><a href="/changelog.html" class="nav-link" data-v-ec36116a>Releases</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Community" class="dropdown-title"><span class="title">Community</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://github.com/Codeception/CodeceptJS" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://bit.ly/chat-codeceptjs" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Slack Chat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://codecept.discourse.group/" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Forum
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://twitter.com/codeceptjs" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Twitter
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="https://stackoverflow.com/questions/tagged/codeceptjs" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Stack Overflow
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li><li class="dropdown-item"><h4></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="http://sdclabs.com/" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Commercial Support
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-subitem"><a href="http://sdclabs.com/trainings/web-automation-codeceptjs?utm_source=codecept.io&amp;utm_medium=top_menu&amp;utm_term=link&amp;utm_campaign=reference" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-ec36116a>
  Trainings
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-ec36116a data-v-ec36116a><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Web Testing</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Mobile Testing</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Organizing Tests</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Advanced Usage</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/advanced/" class="sidebar-link">Advanced Usage</a></li><li><a href="/visual/" class="sidebar-link">Visual Testing</a></li><li><a href="/email/" class="sidebar-link">Email Testing</a></li><li><a href="/react/" class="sidebar-link">Testing React Applications</a></li><li><a href="/hooks/" class="sidebar-link">Bootstrap / Teardown / Plugins</a></li><li><a href="/helpers/" class="active sidebar-link">Custom Helpers</a><ul class="sidebar-sub-headers" data-v-03d3efb5><li class="sidebar-sub-header" data-v-03d3efb5><a href="/helpers/#development" class="sidebar-link">Development</a></li><li class="sidebar-sub-header" data-v-03d3efb5><a href="/helpers/#webdriver-example" class="sidebar-link">WebDriver Example</a></li><li class="sidebar-sub-header" data-v-03d3efb5><a href="/helpers/#puppeteer-example" class="sidebar-link">Puppeteer Example</a></li><li class="sidebar-sub-header" data-v-03d3efb5><a href="/helpers/#protractor-example" class="sidebar-link">Protractor Example</a></li><li class="sidebar-sub-header" data-v-03d3efb5><a href="/helpers/#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header" data-v-03d3efb5><a href="/helpers/#hooks" class="sidebar-link">Hooks</a></li><li class="sidebar-sub-header" data-v-03d3efb5><a href="/helpers/#conditional-retries" class="sidebar-link">Conditional Retries</a></li><li class="sidebar-sub-header" data-v-03d3efb5><a href="/helpers/#using-typescript" class="sidebar-link">Using Typescript</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"><div class="article-title">Custom Helpers</div> <section class="sidebar" data-v-9d0719f8><h4 data-v-9d0719f8>More Information</h4> <p data-v-9d0719f8><a href="/videos" data-v-9d0719f8>Videos</a></p> <p data-v-9d0719f8><a href="/books" data-v-9d0719f8>Books &amp; Posts</a></p> <p data-v-9d0719f8><a href="/examples" data-v-9d0719f8>Examples</a></p> <p data-v-9d0719f8><a href="https://codecept.discourse.group/c/cookbook" data-v-9d0719f8>Cookbook →</a></p> <hr data-v-9d0719f8> <p class="border" data-v-9d0719f8><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&utm_medium=right&utm_term=link&utm_campaign=reference" class="dashed" data-v-9d0719f8>
      Commercial Services →
    </a></p> <p class="border" data-v-9d0719f8><a href="http://sdclabs.com/trainings/web-automation-codeceptjs?utm_source=codecept.io&utm_medium=rigth&utm_term=link&utm_campaign=reference" class="dashed" data-v-9d0719f8>
      Trainings →
    </a></p> <p class="border" data-v-9d0719f8><a href="https://testomat.io" class="dashed" data-v-9d0719f8>
      Testomat.io →
    </a><br data-v-9d0719f8> <small data-v-9d0719f8><b data-v-9d0719f8>Plan your end 2 end tests</b>, collaborate, synchronize with code &amp; get reports!<br data-v-9d0719f8>
    Join Testomat.io while it is in beta and get a huge discount!</small></p></section>  <div class="post"><article><div class="theme-default-content content__default"><p>Helpers is a core concept of CodeceptJS. Helper is a wrapper around various libraries providing unified interface around them.
Methods of Helper class will be available in tests in <code>I</code> object. This abstracts test scenarios from the implementation and allows easy switching between backends.
Functionality of CodeceptJS should be extended by writing a custom helpers.</p> <p>Helpers can also be installed as Node packages and required by corresponding Node modules</p> <p>You can either access core Helpers (and underlying libraries) or create a new from scratch.</p> <h2 id="development"><a href="#development" class="header-anchor">#</a> Development</h2> <p>Helpers can be created by running a generator command:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>codeceptjs gh
</code></pre></div><p><em>(or <code>generate helper</code>)</em></p> <p>This command generates a basic helper and appends it to <code>helpers</code> section of config file:</p> <div class="language-js extra-class"><pre class="language-js"><code>helpers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
  WebDriver<span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  MyHelper<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    require<span class="token punctuation">:</span> <span class="token string">'./path/to/module'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Helpers are ES6 classes inherited from <a href="https://github.com/Codeception/CodeceptJS/blob/master/lib/helper.js" target="_blank" rel="noopener noreferrer">corresponding abstract class<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.
Generated Helper will be added to <code>codecept.conf.js</code> config. It should look like this:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Helper <span class="token operator">=</span> codecept_helper<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyHelper</span> <span class="token keyword">extends</span> <span class="token class-name">Helper</span> <span class="token punctuation">{</span>

  <span class="token comment">// before/after hooks</span>
  <span class="token function">_before</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// remove if not used</span>
  <span class="token punctuation">}</span>

  <span class="token function">_after</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// remove if not used</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// add custom methods here</span>
  <span class="token comment">// If you need to access other helpers</span>
  <span class="token comment">// use: this.helpers['helperName']</span>

<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> MyHelper<span class="token punctuation">;</span>
</code></pre></div><p>All methods except those starting from <code>_</code> will be added to <code>I</code> object and treated as test actions.
Every method should return a value in order to be appended into promise chain.</p> <p>After writing your own custom helpers here you can always update CodeceptJS TypeScript Type Definitions running:</p> <div class="language-sh extra-class"><pre class="language-sh"><code>codeceptjs def <span class="token builtin class-name">.</span>
</code></pre></div><p>This way, if your tests are written with TypeScript, your IDE will be able to leverage features like autocomplete and so on.</p> <h2 id="webdriver-example"><a href="#webdriver-example" class="header-anchor">#</a> WebDriver Example</h2> <p>Next example demonstrates how to use WebDriver library to create your own test action.
Method <code>seeAuthentication</code> will use <code>client</code> instance of WebDriver to get access to cookies.
Standard NodeJS assertion library will be used (you can use any).</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Helper <span class="token operator">=</span> codecept_helper<span class="token punctuation">;</span>

<span class="token comment">// use any assertion library you like</span>
<span class="token keyword">const</span> assert <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'assert'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyHelper</span> <span class="token keyword">extends</span> <span class="token class-name">Helper</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * checks that authentication cookie is set
   */</span>
  <span class="token keyword">async</span> <span class="token function">seeAuthentication</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// access current client of WebDriver helper</span>
    <span class="token keyword">let</span> client <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>helpers<span class="token punctuation">[</span><span class="token string">'WebDriver'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>browser<span class="token punctuation">;</span>

    <span class="token comment">// get all cookies according to http://webdriver.io/api/protocol/cookie.html</span>
    <span class="token comment">// any helper method should return a value in order to be added to promise chain</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">cookie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// get values</span>
    <span class="token keyword">let</span> cookies <span class="token operator">=</span> res<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> k <span class="token keyword">in</span> cookies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// check for a cookie</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>cookies<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">!=</span> <span class="token string">'logged_in'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>
      assert<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>cookies<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token string">'yes'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    assert<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span>cookies<span class="token punctuation">,</span> <span class="token string">'logged_in'</span><span class="token punctuation">,</span> <span class="token string">&quot;Auth cookie not set&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> MyHelper<span class="token punctuation">;</span>
</code></pre></div><h2 id="puppeteer-example"><a href="#puppeteer-example" class="header-anchor">#</a> Puppeteer Example</h2> <p>Puppteer has <a href="https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md" target="_blank" rel="noopener noreferrer">nice and elegant API<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> which you can use inside helpers. Access <code>page</code> instance via <code>this.helpers.Puppeteer.page</code> from inside a helper.</p> <p>Let's see how we can use <a href="https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pageemulateoptions" target="_blank" rel="noopener noreferrer">emulate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> function to emulate iPhone browser in a test.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Helper <span class="token operator">=</span> codecept_helper<span class="token punctuation">;</span>
<span class="token keyword">const</span> puppeteer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'puppeteer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> iPhone <span class="token operator">=</span> puppeteer<span class="token punctuation">.</span>devices<span class="token punctuation">[</span><span class="token string">'iPhone 6'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyHelper</span> <span class="token keyword">extends</span> <span class="token class-name">Helper</span> <span class="token punctuation">{</span>

  <span class="token keyword">async</span> <span class="token function">emulateIPhone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> page <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>helpers<span class="token punctuation">.</span>Puppeteer<span class="token punctuation">;</span>
    <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">emulate</span><span class="token punctuation">(</span>iPhone<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> MyHelper<span class="token punctuation">;</span>
</code></pre></div><h2 id="protractor-example"><a href="#protractor-example" class="header-anchor">#</a> Protractor Example</h2> <p>Protractor example demonstrates usage of global <code>element</code> and <code>by</code> objects.
However <code>browser</code> should be accessed from a helper instance via <code>this.helpers['Protractor']</code>;
We also use <code>chai-as-promised</code> library to have nice assertions with promises.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> Helper <span class="token operator">=</span> codecept_helper<span class="token punctuation">;</span>

<span class="token comment">// use any assertion library you like</span>
<span class="token keyword">const</span> chai <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chai'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> chaiAsPromised <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'chai-as-promised'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chai<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>chaiAsPromised<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> expect <span class="token operator">=</span> chai<span class="token punctuation">.</span>expect<span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyHelper</span> <span class="token keyword">extends</span> <span class="token class-name">Helper</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * checks that authentication cookie is set
   */</span>
  <span class="token function">seeInHistory</span><span class="token punctuation">(</span><span class="token parameter">historyPosition<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// access browser instance from Protractor helper</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>helpers<span class="token punctuation">[</span><span class="token string">'Protractor'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>browser<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// you can use `element` as well as in protractor</span>
    <span class="token keyword">const</span> history <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>by<span class="token punctuation">.</span><span class="token function">repeater</span><span class="token punctuation">(</span><span class="token string">'result in memory'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// use chai as promised for better assertions</span>
    <span class="token comment">// end your method with `return` to handle promises</span>
    <span class="token keyword">return</span> <span class="token function">expect</span><span class="token punctuation">(</span>history<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>historyPosition<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to<span class="token punctuation">.</span>eventually<span class="token punctuation">.</span><span class="token function">equal</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> MyHelper<span class="token punctuation">;</span>
</code></pre></div><h2 id="configuration"><a href="#configuration" class="header-anchor">#</a> Configuration</h2> <p>Helpers should be enabled inside <code>codecept.json</code> or <code>codecept.conf.js</code> files. Command <code>generate helper</code>
does that for you, however you can enable them manually by placing helper to <code>helpers</code> section inside config file.
You can also pass additional config options to your helper from a config - <strong>(please note, this example contains comments, while JSON format doesn't support them)</strong>:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;helpers&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// here goes standard helpers:</span>
  <span class="token comment">// WebDriver, Protractor, Nightmare, etc...</span>
  <span class="token comment">// and their configuration</span>
  <span class="token string">&quot;MyHelper&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;require&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;./my_helper.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// path to module</span>
    <span class="token string">&quot;defaultHost&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;http://mysite.com&quot;</span> <span class="token comment">// custom config param</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div><p>Config values will be stored inside helper in <code>this.config</code>. To get <code>defaultHost</code> value you can use</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>config<span class="token punctuation">.</span>defaultHost
</code></pre></div><p>in any place of your helper. You can also redefine config options inside a constructor:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  config<span class="token punctuation">.</span>defaultHost <span class="token operator">+=</span> <span class="token string">'/api'</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>defaultHost<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// http://mysite.com/api</span>
  <span class="token keyword">super</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="hooks"><a href="#hooks" class="header-anchor">#</a> Hooks</h2> <p>Helpers may contain several hooks you can use to handle events of a test.
Implement corresponding methods to them.</p> <ul><li><code>_init</code> - before all tests</li> <li><code>_finishTest</code> - after all tests</li> <li><code>_before</code> - before a test</li> <li><code>_beforeStep</code> - before each step</li> <li><code>_afterStep</code> - after each step</li> <li><code>_beforeSuite</code> - before each suite</li> <li><code>_afterSuite</code> - after each suite</li> <li><code>_passed</code> - after a test passed</li> <li><code>_failed</code> - after a test failed</li></ul> <p>Each implemented method should return a value as they will be added to global promise chain as well.</p> <h3 id="hook-usage-examples"><a href="#hook-usage-examples" class="header-anchor">#</a> Hook Usage Examples</h3> <ol><li>Failing if JS error occur in WebDriver:</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">JSFailure</span> <span class="token keyword">extends</span> <span class="token class-name">codecept_helper</span> <span class="token punctuation">{</span>

  <span class="token function">_before</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>err <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>helpers<span class="token punctuation">[</span><span class="token string">'WebDriver'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>browser<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>err <span class="token operator">=</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">_afterStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>err<span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'Browser JS error '</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> JSFailure<span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>Wait for Ajax requests to complete after <code>click</code>:</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">JSWait</span> <span class="token keyword">extends</span> <span class="token class-name">codecept_helper</span> <span class="token punctuation">{</span>

  <span class="token function">_afterStep</span><span class="token punctuation">(</span><span class="token parameter">step</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>step<span class="token punctuation">.</span>name <span class="token operator">==</span> <span class="token string">'click'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> <span class="token function-variable function">jqueryActive</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> jQuery<span class="token punctuation">.</span>active <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>helpers<span class="token punctuation">[</span><span class="token string">'WebDriver'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">waitUntil</span><span class="token punctuation">(</span>jqueryActive<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> JSWait<span class="token punctuation">;</span>
</code></pre></div><h2 id="conditional-retries"><a href="#conditional-retries" class="header-anchor">#</a> Conditional Retries</h2> <p>It is possible to execute global conditional retries to handle unforseen errors.
Lost connections and network issues are good candidates to be retried whenever they appear.</p> <p>This can be done inside a helper using the global <a href="/hooks/#api">promise recorder</a>:</p> <p>Example: Retrying rendering errors in Puppeteer.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">_before</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> recorder <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'codeceptjs'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>recorder<span class="token punctuation">;</span>
  recorder<span class="token punctuation">.</span><span class="token function">retry</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    retries<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token function-variable function">when</span><span class="token punctuation">:</span> <span class="token parameter">err</span> <span class="token operator">=&gt;</span> err<span class="token punctuation">.</span>message<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Cannot find context with specified id'</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>recorder.retry</code> acts similarly to <code>I.retry()</code> and accepts the same parameters. It expects the <code>when</code> parameter to be set so it would handle only specific errors and not to retry for every failed step.</p> <p>Retry rules are available in array <code>recorder.retries</code>. The last retry rule can be disabled by running <code>recorder.retries.pop()</code>;</p> <h2 id="using-typescript"><a href="#using-typescript" class="header-anchor">#</a> Using Typescript</h2> <p>When using typescript, replace <code>module.exports</code> with <code>export</code> for autocompletion.</p></div></article></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/codeception/codeceptjs/edit/master/docs/custom-helpers.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/16/2019, 10:54:09 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/hooks/" class="prev">Bootstrap / Teardown / Plugins</a></span> <!----></p></div>  <footer data-v-432119f4><section data-v-432119f4><div class="col" data-v-432119f4><h4 data-v-432119f4>Docs</h4> <ul data-v-432119f4><li data-v-432119f4><a href="/quickstart" data-v-432119f4>Quickstart</a></li> <li data-v-432119f4><a href="/basics" data-v-432119f4>Getting Started</a></li> <li data-v-432119f4><a href="/puppeteer" data-v-432119f4>CodeceptJS &amp; Puppeteer</a></li> <li data-v-432119f4><a href="/puppeteer" data-v-432119f4>CodeceptJS &amp; WebDriver</a></li></ul></div> <div class="col" data-v-432119f4><h4 data-v-432119f4>Community</h4> <ul data-v-432119f4><li data-v-432119f4><a href="https://github.com/Codeception/CodeceptJS" data-v-432119f4>GitHub</a></li> <li data-v-432119f4><a href="http://bit.ly/chat-codeceptjs" data-v-432119f4>Slack Chat</a></li> <li data-v-432119f4><a href="https://codecept.discourse.group/" data-v-432119f4>Forum</a></li> <li data-v-432119f4><a href="https://twitter.com/codeceptjs" data-v-432119f4>Twitter</a></li></ul></div> <div class="col" data-v-432119f4><h4 class="important" data-v-432119f4>Commercial Support</h4> <ul data-v-432119f4><li data-v-432119f4><a href="http://sdclabs.com/codeceptjs?utm_source=codecept.io&utm_medium=footer&utm_term=link&utm_campaign=reference" data-v-432119f4>Consulting</a></li> <li data-v-432119f4><a href="http://sdclabs.com/trainings/web-automation-codeceptjs?utm_source=codecept.io&utm_medium=top_menu&utm_term=link&utm_campaign=reference" data-v-432119f4>Trainings</a></li> <li data-v-432119f4><a href="https://sdclabs.com/#services" data-v-432119f4>Hire Engineers</a></li></ul></div></section> <div class="copyright" data-v-432119f4><h5 data-v-432119f4>CodeceptJS - supercharged end 2 end testing framework for NodeJS</h5>
    © 2019
  </div></footer></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.63cf46ba.js" defer></script><script src="/assets/js/9.60cbc647.js" defer></script><script src="/assets/js/2.4d7a6593.js" defer></script><script src="/assets/js/28.0ce50741.js" defer></script>
  </body>
</html>
